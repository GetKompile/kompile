# Kompile Python

Simple python SDK that runs [konduit serving pipelines](https://github.com/KonduitAI/konduit-serving/).
Konduit Serving pipelines can be ahead of time compiled using
[graalvm](https://www.graalvm.org/) in to a shared library.

This is generated by the [GenerateImageAndSDK command](../../docs/kompile-build-generate-image-and-sdk.html)

See also the [shim library](../kompile-c-library) to hide graalvm details.

In order to use this python library, an end user
should first create a pipeline that is suitable for their use case.
Users can configure a pipeline using the [exec namespace](../../docs/kompile-exec.html)
For more information on this see the [parent README.md](../../README.md).


Once a user has configured their json, usage is as follows:

```python
from kompile.interface.native.interface import PipelineRunner
import numpy as np
with open('path/to/pipeline.json') as f:
    input_json = f.read()
    print(str(type(input_json)))
    pipeline_runner = PipelineRunner(pipeline_json=input_json)
    input_arr_dict = {'input_1': np.ones((32,416,416,3))}
    output = pipeline_runner.run(input_arr_dict)
    print(output)
```

Note the inputs and outputs are numpy arrays mapped using dictionaries.
The underlying function invoked is the [NumpyEntryPoint.java](../src/main/resources/NumpyEntryPoint.java)
which is included automatically when the python SDK is compiled together.

